{
  "name": "Hospital Emergency SOP",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1024,
        -48
      ],
      "id": "173d8e62-c62b-449f-baca-ed8f63308d29",
      "name": "When clicking â€˜Execute workflowâ€™"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "1GI3gKI-iONsUpq2kh96hqWqZRr9ItvQe",
          "mode": "list",
          "cachedResultName": "SOPs for Disaster Management.pdf",
          "cachedResultUrl": "https://drive.google.com/file/d/1GI3gKI-iONsUpq2kh96hqWqZRr9ItvQe/view?usp=drivesdk"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -816,
        -48
      ],
      "id": "30985218-7e57-46ae-aae0-236f40f4fb04",
      "name": "Download file",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "KE3QQMJcVl832El2",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "pineconeIndex": {
          "__rl": true,
          "value": "n8nembedding",
          "mode": "list",
          "cachedResultName": "n8nembedding"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        -608,
        -48
      ],
      "id": "aaca878a-34c1-4753-8bbc-22b7267bbf9b",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "hCHXUxwiwVdRG9qk",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "textSplittingMode": "custom",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        -464,
        144
      ],
      "id": "261d9ac2-6d8b-415d-9e8c-daa671b4ea90",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "chunkOverlap": 100,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "typeVersion": 1,
      "position": [
        -480,
        304
      ],
      "id": "91247f61-ac83-48e4-a3b3-c64b2fd4517b",
      "name": "Recursive Character Text Splitter"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        -208,
        320
      ],
      "id": "4fac4e17-66cf-4650-9947-94c96f5db879",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "VeVgoycn2Zj5kT6C",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "public": true,
        "initialMessages": "Hi there! ðŸ‘‹\nMy name is Haris. How can I assist you today?",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -32,
        -16
      ],
      "id": "eba7bfa7-d097-45db-8f92-8ff7e448c848",
      "name": "When chat message received",
      "webhookId": "964f9398-3c91-4892-a917-a722df4c4531"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "Crefully see the user message and prepare a structured answer from the data retrieved from vector store. Do not include anything other than provided in the given document in picone vector data base.If the answer is not in the provided context, reply: â€˜I donâ€™t know.â€™"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        176,
        -16
      ],
      "id": "1a9f740e-5e3e-48b5-9bb9-78de3fe9a558",
      "name": "AI Agent",
      "notes": "Give the output response only from the context provided by the vector data base.Do not give answer at your own ignoring the provided documents"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        208,
        192
      ],
      "id": "44783c2e-3179-499c-9aca-a884e65cbf93",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        48,
        192
      ],
      "id": "f60a2dd1-587f-4f4c-b45f-03427922cb97",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "VeVgoycn2Zj5kT6C",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Review vector data to work with chat model to answer the user query",
        "pineconeIndex": {
          "__rl": true,
          "value": "n8nembedding",
          "mode": "list",
          "cachedResultName": "n8nembedding"
        },
        "topK": 2,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        432,
        208
      ],
      "id": "49f11bbc-abcd-48db-9de0-7ddb61cc4077",
      "name": "Pinecone Vector Store1",
      "credentials": {
        "pineconeApi": {
          "id": "hCHXUxwiwVdRG9qk",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        400,
        384
      ],
      "id": "86766b0f-24d9-496a-8476-998a2441d37e",
      "name": "Embeddings Google Gemini1",
      "credentials": {
        "googlePalmApi": {
          "id": "VeVgoycn2Zj5kT6C",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "content": "",
        "height": 592,
        "width": 1216,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1280,
        -96
      ],
      "typeVersion": 1,
      "id": "f47fd22d-f0c4-450d-bca6-def07ad509ec",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "",
        "height": 608,
        "width": 848
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -48,
        -96
      ],
      "typeVersion": 1,
      "id": "c19e5277-6dea-4257-8a1a-8d6ab627e3cc",
      "name": "Sticky Note1"
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking â€˜Execute workflowâ€™": {
      "main": [
        [
          {
            "node": "Download file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Recursive Character Text Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini1": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "6910091d-7494-4a37-80fe-622f113f162a",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "46ed7199f5819d8460351000d7a8088188a5a36cd3262dfcf28b9b96c6271377"
  },
  "id": "xJBiD3otwIr0KLR1",
  "tags": []
}